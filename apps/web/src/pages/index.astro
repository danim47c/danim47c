---
import Svg from "../components/Svg.astro"
import Base from "../layouts/base.astro"
import { groupList } from "../utils/group"

interface Link {
  name: string
  icon: string
  url: string
  color: string
}

const links: Link[] = [
  {
    name: "GitHub",
    icon: "./assets/links/github.svg",
    url: "https://github.com/danim47c",
    color: "#212121",
  },
  {
    name: "Linkedin",
    icon: "./assets/links/linkedin.svg",
    url: "https://linkedin.com/in/danim47c",
    color: "#0B63BC",
  },
  {
    name: "Telegram",
    icon: "./assets/links/telegram.svg",
    url: "https://t.me/danim47c",
    color: "#249CD7",
  },
  {
    name: "Discord",
    icon: "./assets/links/discord.svg",
    url: "https://discordapp.com/users/495957564706521090",
    color: "#7085D3",
  },
]

const groupedLinks = groupList(links, 2)

interface Stack {
  name: string
  icon: string
  color: string
}

const stacks: Stack[] = [
  { name: "Javascript", icon: "./assets/stacks/javascript.svg", color: "#F7DF1C" },
  { name: "Typescript", icon: "./assets/stacks/typescript.svg", color: "#007ACC" },
  { name: "Python", icon: "./assets/stacks/python.svg", color: "#FED546" },
  { name: "Go", icon: "./assets/stacks/go.svg", color: "#6AD6E5" },
  { name: "PostgreSQL", icon: "./assets/stacks/postgresql.svg", color: "#336790" },
  { name: "MongoDB", icon: "./assets/stacks/mongodb.svg", color: "#6CAB47" },
  { name: "Redis", icon: "./assets/stacks/redis.svg", color: "#C52F2C" },
  { name: "DynamoDB", icon: "./assets/stacks/dynamodb.svg", color: "#2D71B8" },
  { name: "Vercel", icon: "./assets/stacks/vercel.svg", color: "#000" },
  { name: "AWS", icon: "./assets/stacks/aws.svg", color: "#FF9900" },
]

const groupedStacks = groupList(stacks, 4)
---

<Base>
  <main>
    <section class="profile">
      <img alt="profile photo" src="/profile.webp" />

      <div>
        <h2>Daniel Mateos</h2>

        <h3>FullStack Developer</h3>
      </div>
    </section>

    <section class="links">
      <h4>Contact</h4>
      <div>
        {
          groupedLinks.map((group) => (
            <div>
              {group.map((link) => (
                <a
                  target="_blank"
                  href={link.url}
                  style={`color: ${link.color}`} rel="noreferrer"
                >
                  <Svg src={link.icon} />
                </a>
              ))}
            </div>
          ))
        }
      </div>
    </section>

    <section class="stacks">
      <h4>Stacks</h4>

      <div>
        {
          groupedStacks.map((group) => (
            <div>
              {group.map((link) => (
                <div
                  style={`color: ${link.color}`}
                >
                  <Svg
                    src={link.icon}
                  />
                </div>
              ))}
            </div>
          ))
        }
      </div>
    </section>
  </main>
</Base>

<style lang="scss">
  main {
    display: flex;
    flex-direction: column;
    align-items: center;

    section.profile {
      height: 30rem;

      margin-top: 4rem;

      display: flex;
      flex-direction: column;
      align-items: center;
      row-gap: 3rem;

      img {
        width: 15rem;
        height: 15rem;

        border-radius: 10%;
      }

      div {
        h2 {
          font-size: 2em;
          font-weight: 700;
          margin-bottom: 0.5rem;
        }

        h3 {
          font-size: 1.2em;
          font-weight: 300;
          margin-bottom: 1rem;

          text-align: center;
        }
      }
    }

    section.links {
      margin: 3rem 0;

      h4 {
        font-size: 1.5em;
        font-weight: 700;
        margin-bottom: 1rem;
        text-align: center;
      }

      & > div {
        margin: 2rem;

        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        row-gap: 2rem;
        column-gap: 2rem;

        & > div {
          display: flex;
          flex-wrap: wrap;
          row-gap: 2rem;
          column-gap: 2rem;

          a {
            display: flex;
            justify-content: center;
            align-items: center;

            padding: 0.5rem;
            border: 0.15rem solid currentColor;
            border-radius: 10%;

            transition: box-shadow ease-out 0.1s;

            box-shadow: 0 0 10px -5px currentColor;

            width: 3rem;
            height: 3rem;

            &:hover {
              box-shadow: 0 0 10px -2px currentColor;
            }
          }
        }
      }
    }

    section.stacks {
      margin: 3rem 0;

      h4 {
        font-size: 1.5em;
        font-weight: 700;
        margin-bottom: 1rem;
        text-align: center;
      }

      & > div {
        margin-top: 2rem;
        
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        row-gap: 1rem;
        column-gap: 1rem;

        & > div {
          display: flex;
          flex-wrap: wrap;
          row-gap: 1rem;
          column-gap: 1rem;

          div {
            display: flex;
            align-items: center;
            justify-content: center;

            padding: 0.4rem;
            border: 0.15rem solid currentColor;
            border-radius: 10%;

            transition: box-shadow ease-out 0.1s;

            box-shadow: 0 0 10px -5px currentColor;

            width: 2.5rem;
            height: 2.5rem;

            &:hover {
              box-shadow: 0 0 10px -2px currentColor;
            }
          }
        }
      }
    }
  }
</style>
